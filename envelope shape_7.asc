Version 4
SHEET 1 5060 1464
WIRE 2800 -112 2240 -112
WIRE 3184 -112 2976 -112
WIRE 3232 -112 3184 -112
WIRE 3328 -112 3312 -112
WIRE 3184 -96 3184 -112
WIRE 1296 -64 1088 -64
WIRE 2976 -48 2976 -112
WIRE 3008 -48 2976 -48
WIRE 3824 -48 3616 -48
WIRE 3184 -32 3072 -32
WIRE 4096 -32 4032 -32
WIRE 4240 -32 4176 -32
WIRE 2048 -16 1920 -16
WIRE 2384 -16 2272 -16
WIRE 3008 -16 2992 -16
WIRE 2800 0 2800 -32
WIRE 1088 16 1088 -64
WIRE 3616 32 3616 -48
WIRE 3680 32 3616 32
WIRE 1760 48 1648 48
WIRE 1776 48 1760 48
WIRE 3824 48 3824 -48
WIRE 3824 48 3744 48
WIRE 3936 48 3824 48
WIRE 4032 48 4032 -32
WIRE 4032 48 4016 48
WIRE 4096 48 4032 48
WIRE 2048 64 1952 64
WIRE 2336 64 2272 64
WIRE 2384 64 2336 64
WIRE 2464 64 2384 64
WIRE 3408 64 3408 -112
WIRE 3680 64 3408 64
WIRE 4240 64 4240 -32
WIRE 4240 64 4160 64
WIRE 4272 64 4240 64
WIRE 4096 80 4048 80
WIRE 1648 96 1648 48
WIRE 2800 96 2800 80
WIRE 2992 96 2992 -16
WIRE 2992 96 2800 96
WIRE 2800 112 2800 96
WIRE 2800 112 2768 112
WIRE 2048 144 1952 144
WIRE 2464 144 2272 144
WIRE 4048 144 4048 80
WIRE 1952 176 1952 144
WIRE 2464 176 2464 144
WIRE 2336 192 2336 64
WIRE 3152 240 2960 240
WIRE 3184 240 3152 240
WIRE 3312 240 3264 240
WIRE 3408 240 3408 64
WIRE 3408 240 3392 240
WIRE 3152 272 3152 240
WIRE 2336 288 2336 256
WIRE 2464 288 2464 256
WIRE 1952 304 1952 256
WIRE 2960 320 2960 240
WIRE 3008 320 2960 320
WIRE 3952 320 3600 320
WIRE 3152 336 3072 336
WIRE 3008 352 2544 352
WIRE 3600 368 3600 320
WIRE 3680 368 3600 368
WIRE 3952 384 3952 320
WIRE 3952 384 3744 384
WIRE 3968 384 3952 384
WIRE 3408 400 3408 240
WIRE 3680 400 3408 400
WIRE 1776 432 1776 48
WIRE 2544 432 2544 352
WIRE 2544 432 1776 432
WIRE 2800 480 2592 480
WIRE 3040 480 2864 480
WIRE 3200 480 3120 480
WIRE 3408 480 3408 400
WIRE 3408 480 3280 480
FLAG 1168 384 0
FLAG 1296 304 V+
FLAG 1168 304 V-
FLAG 1296 384 0
FLAG 2240 -112 V+
FLAG 3040 368 V-
FLAG 3040 0 V-
FLAG 3040 304 V+
FLAG 3040 -64 V+
FLAG 3408 544 0
FLAG 3712 352 V+
FLAG 3968 384 OUTPUT+
IOPIN 3968 384 Out
FLAG 1648 176 0
FLAG 1088 96 0
FLAG 2384 64 V+
FLAG 2384 -16 Vout_timer
IOPIN 2384 -16 Out
FLAG 1952 64 0
FLAG 1296 -64 trigger
IOPIN 1296 -64 Out
FLAG 1920 -16 trigger
IOPIN 1920 -16 In
FLAG 2336 288 0
FLAG 1952 304 0
FLAG 2464 288 0
FLAG 2592 480 Vout_timer
IOPIN 2592 480 In
FLAG 1760 48 key_pressed
FLAG 2768 112 Vout_timer
IOPIN 2768 112 In
FLAG 3712 16 V+
FLAG 3712 80 V-
FLAG 3712 416 V-
FLAG 4272 64 OUTPUT-
IOPIN 4272 64 Out
FLAG 4128 32 V+
FLAG 4128 96 V-
FLAG 4048 144 0
FLAG 1776 432 key_pressed
IOPIN 1776 432 In
SYMBOL voltage 1168 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value -5
SYMBOL voltage 1296 288 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 2784 -16 R0
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL res 2784 -128 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL polcap 3392 480 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 2µ
SYMATTR InstName C6
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=4 Irms=3.87298 Rser=0.015 Lser=0 mfg="KEMET" pn="A700X227M004ATE015" type="Al electrolytic"
SYMBOL res 3328 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 3424 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RvarD
SYMATTR Value 0.5Meg
SYMBOL res 3280 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL res 3408 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RvarR
SYMATTR Value 0.5Meg
SYMBOL res 3296 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RvarA
SYMATTR Value 0.5Meg
SYMBOL res 3136 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL voltage 1648 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -140 128 Left 2
SYMATTR Value PULSE(0 5 1 1p 1p 1)
SYMATTR InstName V8
SYMBOL voltage 1088 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -335 141 Left 2
SYMATTR Value PWL(1 0 1.001 5 1.002 0 4 0)
SYMATTR InstName V9
SYMBOL cap 2320 192 R0
SYMATTR InstName C8
SYMATTR Value 0.1µ
SYMBOL res 1936 160 R0
SYMATTR InstName Rset
SYMATTR Value 287k
SYMBOL res 2448 48 R0
SYMATTR InstName Ra
SYMATTR Value 1Meg
SYMBOL res 2448 160 R0
SYMATTR InstName Rb
SYMATTR Value 681k
SYMBOL diode 2800 496 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 3136 272 R0
SYMATTR InstName D5
SYMATTR Value 1N914
SYMBOL diode 3168 -96 R0
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL Opamps\\LT1366 3712 -16 R0
SYMATTR InstName U2
SYMBOL Opamps\\LT1366 3712 320 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1366 4128 0 R0
SYMATTR InstName U3
SYMBOL res 4192 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 4032 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL SpecialFunctions\\LTC6993-2 2160 64 R0
SYMATTR InstName U4
SYMBOL Opamps\\LT1366 3040 -96 R0
SYMATTR InstName U5
SYMBOL Opamps\\LT1366 3040 272 R0
SYMATTR InstName U6
TEXT 1200 472 Left 2 !.tran 10
TEXT 3112 552 Left 2 ;ATTACK
TEXT 3048 208 Left 2 ;RELEASE
TEXT 3296 -24 Left 2 ;DECAY
TEXT 2880 8 Left 2 ;SUSTAIN
TEXT 2432 -336 Left 2 ;pin SET is the Pulse Width Setting input
TEXT 2424 -432 Left 2 ;This version of LTC6993-2 is triggered on the rising  edge and retriggerable
TEXT 2424 -400 Left 2 ;(it allows the pulse width to be extended by additional trig signals)
TEXT 2432 -288 Left 2 ;pin OUT has a resistance of approx 30 ohm
TEXT 2432 -232 Left 2 ;the Ra and Rb are accurately chosen from LTC6993 datasheet table1
